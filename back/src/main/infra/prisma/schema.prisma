generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Driver {
  id          String @id @default(uuid())
  firstName   String @db.VarChar(50) @map("first_name")
  lastName    String @db.VarChar(100) @map("last_name")
  description String @db.Text

  carId   String   @unique @map("car_id")
  car     Car      @relation(fields: [carId], references: [id])
  rates   Rating[]
  optionsId String @unique @map("options_id")
  options OptionDriver @relation(fields: [optionsId], references: [id])

  @@map("driver")
}

model Car {
  id          String @id @default(uuid())
  make        String @db.VarChar(100)
  model       String @db.VarChar(100)
  year        Int
  color       String @db.VarChar(50)
  description String @db.Text

  driver Driver?

  @@map("car")
}

model Rating {
  id      String @id @default(uuid())
  rate    Int
  comment String @db.Text

  driver   Driver @relation(fields: [driverId], references: [id])
  driverId String @map("driver_id")

  @@map("rating")
}

model OptionDriver {
  id              String @id @default(uuid())
  ratePerKm       Int @map("rate_per_km")
  minimumKm Int @map("minimum_distance")
 
  driver Driver?

  @@map("option_driver")
}
